const sampleData = {
    "226001": [{
        "name": "VJBMC Hazratganj LUCKNOW",
        "fee_type": "Free",
        "info": [{
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 12
        }, {
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 93
        }, {
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 95
        }, {
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 82
        }, {
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 119
        }, {
            "name": "VJBMC Hazratganj LUCKNOW",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 120
        }]
    }, {
        "name": "UPHC Jiamau",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Jiamau",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 45
        }, {
            "name": "UPHC Jiamau",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 57
        }, {
            "name": "UPHC Jiamau",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "UPHC Jiamau",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 54
        }, {
            "name": "UPHC Jiamau",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 56
        }, {
            "name": "UPHC Jiamau",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 58
        }]
    }, {
        "name": "UPHC New Haiderganj",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC New Haiderganj",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 50
        }, {
            "name": "UPHC New Haiderganj",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "UPHC New Haiderganj",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }, {
            "name": "UPHC New Haiderganj",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }, {
            "name": "UPHC New Haiderganj",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "UPHC Qila Mohammadi",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Qila Mohammadi",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 90
        }, {
            "name": "UPHC Qila Mohammadi",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 94
        }, {
            "name": "UPHC Qila Mohammadi",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 52
        }, {
            "name": "UPHC Qila Mohammadi",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "NK Road UCHC LUCKNOW",
        "fee_type": "Free",
        "info": [{
            "name": "NK Road UCHC LUCKNOW",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 49
        }, {
            "name": "NK Road UCHC LUCKNOW",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 50
        }, {
            "name": "NK Road UCHC LUCKNOW",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 55
        }, {
            "name": "NK Road UCHC LUCKNOW",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 57
        }, {
            "name": "NK Road UCHC LUCKNOW",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "NK Road UCHC LUCKNOW",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "Dr SPM Hospital",
        "fee_type": "Free",
        "info": [{
            "name": "Dr SPM Hospital",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVAXIN",
            "available_capacity": 149
        }, {
            "name": "Dr SPM Hospital",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVAXIN",
            "available_capacity": 232
        }, {
            "name": "Dr SPM Hospital",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVAXIN",
            "available_capacity": 172
        }, {
            "name": "Dr SPM Hospital",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVAXIN",
            "available_capacity": 283
        }, {
            "name": "Dr SPM Hospital",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVAXIN",
            "available_capacity": 299
        }]
    }, {
        "name": "Rajendra Nagar UPHC",
        "fee_type": "Free",
        "info": [{
            "name": "Rajendra Nagar UPHC",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 87
        }, {
            "name": "Rajendra Nagar UPHC",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 96
        }, {
            "name": "Rajendra Nagar UPHC",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 98
        }, {
            "name": "Rajendra Nagar UPHC",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 94
        }, {
            "name": "Rajendra Nagar UPHC",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "Red Cross UCHC LUCKNOW",
        "fee_type": "Free",
        "info": [{
            "name": "Red Cross UCHC LUCKNOW",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 34
        }, {
            "name": "Red Cross UCHC LUCKNOW",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 52
        }, {
            "name": "Red Cross UCHC LUCKNOW",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 53
        }, {
            "name": "Red Cross UCHC LUCKNOW",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 51
        }, {
            "name": "Red Cross UCHC LUCKNOW",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 58
        }, {
            "name": "Red Cross UCHC LUCKNOW",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "Silver Jubliee UCHC Lucknow",
        "fee_type": "Free",
        "info": [{
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 57
        }, {
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }, {
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 55
        }, {
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 57
        }, {
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "Silver Jubliee UCHC Lucknow",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "UPHC Suggamau",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Suggamau",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 51
        }, {
            "name": "UPHC Suggamau",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 40
        }, {
            "name": "UPHC Suggamau",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 53
        }, {
            "name": "UPHC Suggamau",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 56
        }, {
            "name": "UPHC Suggamau",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }]
    }, {
        "name": "UPHC Naka",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Naka",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 95
        }, {
            "name": "UPHC Naka",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 98
        }, {
            "name": "UPHC Naka",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 92
        }, {
            "name": "UPHC Naka",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 99
        }, {
            "name": "UPHC Naka",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }]
    }, {
        "name": "UPHC Sewa Sadan",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Sewa Sadan",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 58
        }, {
            "name": "UPHC Sewa Sadan",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }, {
            "name": "UPHC Sewa Sadan",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }, {
            "name": "UPHC Sewa Sadan",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "UPHC Sewa Sadan",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }, {
        "name": "UPHC Ujariyao",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Ujariyao",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 54
        }, {
            "name": "UPHC Ujariyao",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 49
        }, {
            "name": "UPHC Ujariyao",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 50
        }, {
            "name": "UPHC Ujariyao",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 54
        }, {
            "name": "UPHC Ujariyao",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }]
    }, {
        "name": "UPHC Sahadatganj",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Sahadatganj",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 55
        }, {
            "name": "UPHC Sahadatganj",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "UPHC Sahadatganj",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 58
        }, {
            "name": "UPHC Sahadatganj",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }, {
            "name": "UPHC Sahadatganj",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 59
        }]
    }, {
        "name": "UPHC Chitwapaur",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Chitwapaur",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 34
        }]
    }, {
        "name": "VABMC Ist Floor LUCKNOW",
        "fee_type": "Free",
        "info": [{
            "name": "VABMC Ist Floor LUCKNOW",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 112
        }, {
            "name": "VABMC Ist Floor LUCKNOW",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 120
        }]
    }],
    "226002": [{
        "name": "PHQ Signature Building Lko",
        "fee_type": "Free",
        "info": [{
            "name": "PHQ Signature Building Lko",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 14
        }]
    }, {
        "name": "Command Hospital CC Lucknow",
        "fee_type": "Free",
        "info": [{
            "name": "Command Hospital CC Lucknow",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 104
        }, {
            "name": "Command Hospital CC Lucknow",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 114
        }, {
            "name": "Command Hospital CC Lucknow",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 119
        }, {
            "name": "Command Hospital CC Lucknow",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 176
        }, {
            "name": "Command Hospital CC Lucknow",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 180
        }]
    }, {
        "name": "UPHC Sadar",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Sadar",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 27
        }, {
            "name": "UPHC Sadar",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 50
        }, {
            "name": "UPHC Sadar",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 47
        }, {
            "name": "UPHC Sadar",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 53
        }, {
            "name": "UPHC Sadar",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 55
        }, {
            "name": "UPHC Sadar",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 53
        }]
    }, {
        "name": "ALSC Dept Base Hospital LKO",
        "fee_type": "Free",
        "info": [{
            "name": "ALSC Dept Base Hospital LKO",
            "date": "05-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 2
        }, {
            "name": "ALSC Dept Base Hospital LKO",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 111
        }, {
            "name": "ALSC Dept Base Hospital LKO",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 121
        }, {
            "name": "ALSC Dept Base Hospital LKO",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 118
        }, {
            "name": "ALSC Dept Base Hospital LKO",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 176
        }, {
            "name": "ALSC Dept Base Hospital LKO",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 180
        }]
    }, {
        "name": "UPHC Nilmatha",
        "fee_type": "Free",
        "info": [{
            "name": "UPHC Nilmatha",
            "date": "06-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 32
        }, {
            "name": "UPHC Nilmatha",
            "date": "07-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 46
        }, {
            "name": "UPHC Nilmatha",
            "date": "08-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 57
        }, {
            "name": "UPHC Nilmatha",
            "date": "10-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 52
        }, {
            "name": "UPHC Nilmatha",
            "date": "11-05-2021",
            "min_age": 45,
            "vaccine": "COVISHIELD",
            "available_capacity": 60
        }]
    }]
}

const fs = require('fs');
const csvWriter = createCsvWriter({
    path: './output.csv',
    header: [
        {id: 'pincode', title: 'PIN'},
        {id: 'date', title: 'DATE'},
        {id: 'name', title: 'CENTER NAME'},
        {id: 'vacancy', title: 'VACANCY'},
        {id: 'min_age', title: 'MINIMUM AGE'},
        {id: 'vaccine', title: 'VACCINE'},
        {id: 'fee', title: 'FEE TYPE'},
    ]
});
const records = [];
for (const pin in sampleData) {
    for (const {info, name, fee_type} of sampleData[pin]) {
        for (const {date, min_age, vaccine, available_capacity} of info) {
            records.push({pincode: pin, date, name, vacancy: available_capacity, min_age, vaccine, fee: fee_type})
            console.log(pin, date, name, available_capacity, min_age, vaccine, fee_type);
        }
    }
}

csvWriter.writeRecords(records)       // returns a promise
    .then(() => {
        console.log('[ WRITTEN CSV FILE ]');
    });